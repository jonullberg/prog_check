<form class="panel panel-primary"
  data-ng-submit="prepareTest(test)">
  <header class="panel-heading">
    <h3>{{test.testName || 'New Test'}} </h3>
  </header>
  <div class="panel-body">
    <div class="form-group">
      <label for="testDirections">Directions for Test:</label>
      <input type="text"
        class="form-control" required="required"
        name="testDirections" id="testDirections"
        data-ng-model="test.testDirections">
    </div>
    <div class="form-group">
      <label for="testGoal">Choose a goal for this test: </label>
      <select name="testGoal" id="testGoal"
        class="form-control" required="required"
        data-ng-model="test.goalId"
        data-ng-options="goal._id as goal.name + ' - ' + goal.description for goal in standard.goals"></select>
    </div>
    <div>
      <ul>
        <p data-ng-if="!test.questions.length">You have no questions, feel free to add some.</p>
        <li data-ng-repeat="question in test.questions"
          data-ng-click="editQuestion(question)">{{question.question}}</li>
      </ul>
      <button type="button"
        class="btn btn-default"
        data-ng-if="!areWeAddingQuestions"
        data-ng-click="addQuestions(test)">
        Add Questions
      </button>
    </div>
    <pc-question-form
      data-test="test"
      data-ng-if="areWeAddingQuestions"
      data-save="addQuestion(question)"
      data-cancel="cancelEdit(question)"
      data-button-text="'Add Question'"
      data-question="question">
    </pc-question-form>
    <pc-question-form
      data-ng-if="question.editing"
      data-save="saveQuestion(question)"
      data-cancel="cancelEdit(question)"
      data-button-text="'Update Question'"
      data-question="question"
      data-test="test">
    </pc-question-form>  </div>
  <footer class="panel-footer">
    <div class="form-group">
      <button type="submit"
        class="btn btn-primary">
        {{buttonText}}
      </button>
      <button type="button"
        class="btn btn-danger"
        data-ng-click="cancel({test: test})">
        Cancel
      </button>
    </div>
  </footer>
</form>
