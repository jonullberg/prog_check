<form class=""
  data-ng-submit="addNewTest(test)">
  <header class="modal-header">
    <h3>{{test.testName || 'New Test'}} </h3>
  </header>
  <div class="modal-body">
    <div class="form-group">
      <label for="testDirections">Directions for Test:</label>
      <input type="text"
        class="form-control" required="required"
        name="testDirections" id="testDirections"
        placeholder="Test Directions"
        data-ng-model="test.testDirections">
    </div>
    <div class="form-group">
      <label for="testGoal">Choose a goal for this test: </label>
      <select name="testGoal" id="testGoal"
        class="form-control" required="required"
        data-ng-init="setGoal(test)"
        data-ng-change="test.goalId = test._goal"
        data-ng-model="test._goal"
        data-ng-options="goal._id as goal.description for goal in standard.goals">
      </select>
    </div>
    <div>
      <ul>
        <p data-ng-if="!test.questions.length">You have no questions, feel free to add some.</p>
        <li data-ng-repeat="question in test.questions"
          data-ng-click="editQuestion(question)">{{question.question}}</li>
      </ul>
      <button type="button"
        class="btn btn-default"
        data-ng-if="!areWeAddingQuestions"
        data-ng-click="newQuestions(test)">
        Add Questions
      </button>
    </div>
    <pc-question-form
      data-test="test"
      data-ng-if="areWeAddingQuestions"
      data-save="addQuestion(question)"
      data-cancel="cancelEdit(question)"
      data-button-text="'Add Question'"
      data-question="question">
    </pc-question-form>
    <pc-question-form
      data-ng-if="question.editing"
      data-save="saveQuestion(question)"
      data-cancel="cancelEdit(question)"
      data-button-text="'Update Question'"
      data-question="question"
      data-test="test">
    </pc-question-form>  </div>
  <footer class="modal-footer">
    <button type="submit"
      class="btn btn-primary">
      {{buttonText}}
    </button>
    <button type="button"
      class="btn btn-danger"
      data-ng-click="cancel(test)">
      Cancel
    </button>
  </footer>
</form>
